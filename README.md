# Restaurant Memo
Androidアプリ開発課題に対応するポートフォリオ用アプリです。Hot Pepper Gourmet Search API を使用し、現在地やエリア条件に基づいてレストランを検索・表示できます。

### 作者
高雨生（コウウセイ）
### アプリ名
レストランメモ(Restaurant Memo)

#### コンセプト

**「行ってみたいお店を簡単に見つけて、地図で確認し、あとで行けるように保存する」**
ユーザーが気になる飲食店を検索し、一覧や地図で直感的にチェックでき、気に入った店舗は“お気に入り”として保存できるようにすることで、スムーズな飲食店探しをサポートします。


#### こだわったポイント
- **Jetpack Composeによる完全UI構築**  
  全画面をComposeで構築し、XMLは一切使用していません。`Navigation Compose`と状態管理を組み合わせ、シンプルかつ拡張性の高い画面遷移を実現しています。

- **Google Mapsとリストのシームレス切り替え**  
  `Maps Compose` を導入し、検索結果をマップ上で視覚的に確認できるようにしました。リストビューとワンタップで切り替え可能です。

- **状態管理の設計**  
  各画面に対して`ViewModel`でUIステートクラスを定義し、イベント駆動で処理することで、テストしやすくバグの少ない設計を心がけました。

- **非同期処理の明確化と例外管理**  
  Retrofit + Kotlin Coroutines + Flow によって非同期API呼び出しを管理し、例外発生時にはユーザーへの通知UIを表示しています。

- **UX向上のためのアニメーション表現**  
  ローディング中はShimmerエフェクトを表示し、ユーザーに読み込み中であることを自然に伝えています。

- **お気に入り登録のローカル保存**  
  Jetpack DataStoreを使用し、ユーザーが気に入った店舗情報をローカルに保存します。

## 開発環境
### 開発環境
- **Android Studio Ladybug**

### 開発言語
- **言語**：Kotlin 2.0.0  
- **UI**：Jetpack Compose（Material3）  
- **依存管理**：`libs.versions.toml` による version catalog  

## 動作対象端末・OS
### 動作対象OS
- Android 7.0（API 24）以上  
- 開発ターゲット：API 35（compileSdk = 35）

## 開発期間
10日間

## アプリケーション機能

### 機能一覧
| 機能 | 説明 |
|------|------|
| スプラッシュ画面 | アプリアイコンとロゴを表示 |
| 現在地からの検索 | GPSとGoogle Mapを使って近くのレストランを検索 |
| サジェスト検索 | 入力ワードに応じた候補表示 |
| 高度な検索 | 距離、エリア、ジャンル、Wi-Fi、個室、食べ放題対応など複数条件でフィルタ |
| リスト/マップ切り替え | Compose + Maps Compose でのUI表示切り替え |
| 地図表示画面 | Google Maps上に検索結果の店舗をマーカーで表示し、横スクロール可能な店舗リストと連動表示 |
| お気に入り登録 | Datastoreを使用してローカル保存 |
| 無限スクロール | LazyColumnによるリスト表示と末尾自動ロード |
|リフレッシュ | プル・トゥ・ユーザー操作で再読み込み |
| データなし時の表示 | 条件に合致しない場合は「該当なし」を表示 |

### 画面一覧
| 画面名           | 概要                                                                 | 主な機能                                                         |
|------------------|----------------------------------------------------------------------|------------------------------------------------------------------|
| 起動画面（Splash） | アプリ起動時にロゴを表示するスプラッシュ画面                         | スプラッシュアニメーション、初期化後にホームへ遷移             |
| 店舗リスト画面   | 検索条件に合致した店舗をリストで表示する画面                           | - LazyColumn表示<br>- スクロールして更新<br>- ページングによる追加読み込み（Shimmerあり） |
| 店舗地図表示画面     | Google Maps上に検索条件に合致した店舗をマーカーとリストで表示                          | - マップ操作（ズーム・移動）<br>- Google Maps上に検索結果の店舗をマーカーで表示し、横スクロール可能な店舗リストと連動表示<br>- 店舗詳細との連携             |
| 検索候補画面     | キーワード入力中にサジェストを表示                                     | - オートコンプリート候補<br>- タップで検索実行                 |
| 店舗詳細画面     | 店舗の詳細情報を表示                                                   | - 写真、営業時間、アクセスなど表示<br>- お気に入り追加 |
| お気に入り画面   | 保存したお気に入り店舗の一覧を表示                                      | - ローカルデータ取得<br>- 詳細画面遷移<br>- 削除機能            |


### 使用しているAPI,SDK,ライブラリなど

| ライブラリ | バージョン | 説明 |
|------------|------------|------|
| Jetpack Compose BOM | 2024.09.03 | UI構築基盤 |
| Hilt | 2.51.1 | 依存性注入 |
| Retrofit / OkHttp | 2.9.0 / 4.11.0 | REST API通信 |
| Maps Compose | 4.4.1 | Google Maps連携 |
| Coil | 2.4.0 | 画像読み込み |
| kotlinx.serialization | 1.6.3 | JSONパース |
| DataStore | 1.0.0 | データ保存 |
| Splash Screen | 1.0.1 | 起動画面 |

### 技術面でアドバイスして欲しいポイント
以下の実装部分について、今後の改善やより良いアーキテクチャ設計に向けて、フィードバックやアドバイスをいただけると幸いです。

1. **ViewModelとUIステート設計の妥当性**  
   - 各画面で `UiState` クラスと `UiEvent` の設計を分けていますが、さらに汎用化・簡潔化するベストプラクティスがあれば知りたいです。

2. **Maps Composeのパフォーマンス最適化**  
   - マーカーが多くなると描画が重くなる傾向があり、ベストな描画・キャッシュ戦略があればご教示いただきたいです。

3. **テスト設計（ユニット & UI）**  
   - ViewModelレイヤーのテストは行いましたが、Compose UIのテストに苦戦しました。Composeでの画面遷移やLazyColumnのUIテストについて、参考になる設計があれば教えてください。

4. **複数のViewModelを扱うときに**
   - どのように責任範囲を分け、Compose UI側のコードをシンプルに保つか？ に関して、設計やコード構造のベストプラクティスをアドバイスいただきたいです。


###  注意事項

- 本アプリは Hot Pepper Gourmet Search API を利用しています。
- APIキーはセキュリティ保護のため `secrets.properties` にて外部管理しています（Gitで除外済）。
- 商用利用目的ではなく、就職活動・技術評価用として作成された非公開アプリです。
